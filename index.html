<!DOCTYPE html>
<html>
<head>
	<title>Pathfinding Visualizer</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="./style.css">
	<script src="https://kit.fontawesome.com/d1f3dd87b7.js" crossorigin="anonymous"></script>
</head>

<body>
	<nav class="navbar navbar-expand-sm fixed-top navbar-dark bg-dark" id="myNavbar">
  		<h1 class="navbar-brand" href="#" id="logo">Pathfinding Visualizer</h1>
  		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    		<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">

	    	<ul class="navbar-nav mr-auto">
		      	<li class="nav-item dropdown" id="mazes">
		      		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		          	Mazes
		        	</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown">
					    <a class="dropdown-item" href="#">Random</a>
					    <a class="dropdown-item" href="#">Recursive Division</a>
					    <a class="dropdown-item" href="#">Recursive Division (Vertical Skew)</a>
					    <a class="dropdown-item" href="#">Recursive Division (Horizontal Skew)</a>
					    <a class="dropdown-item" href="#">Spiral</a>
					</div>
				</li>
	    	</ul>

	      	<button class="btn btn-outline-success btn-space" type="submit" id="dijkstraButton">Run Dijkstra</button>
	      	<button class="btn btn-outline-success btn-space" type="submit" id="aStarButton">Run A*</button>
	      	<button type="button" class="btn btn-outline-warning btn-space" type="submit" id="clearButton">Clear Grid</button>
  		</div>
 	</nav>

	<div class="d-flex flex-row flex-wrap m-2 justify-content-around" id="keys">
		<div class="d-flex p-2">
			<div class="key wall"></div>
			<div>Wall</div>
		</div>
		<div class="d-flex p-2">
			<div class="key start"></div>
			<div>Start Node</div>
		</div>
		<div class="d-flex p-2">
			<div class="key target"></div>
			<div>Target Node</div>
		</div>
		<div class="d-flex p-2">
			<div class="key searching"></div>
			<!-- <div class="key visited"></div> -->
			<div>Visited Nodes</div>
		</div>
		<div class="d-flex p-2">
			<div class="key"></div>
			<div>Unvisited Nodes</div>
		</div>
		<div class="d-flex p-2">
			<div class="key success"></div>
			<div>Shortest Path</div>
		</div>
	</div>

	<div id="tableContainer"></div>

 	<div class="d-flex flex-row m-4 justify-content-center">
		<!-- Button trigger for tutorial modal -->
		<button type="button" class="btn btn-outline-info btn-lg" data-toggle="modal" data-target="#exampleModalLong">Tutorial</button>

		<!-- Tutorial Modal -->
		<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		      	<div class="container-fluid" id="modalTitleContainer">
		        	<h3 class="modal-title" id="exampleModalLongTitle">Pathfinding Visualizer</h3>
		        </div>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		        <div class="container-fluid">
		        	<div class="d-flex flex-column">
		        		<div class="card bg-light">
						  <div class="card-body">
						    <h5 class="card-title">What are pathfinding algorithms?</h5>
						    <p class="card-text"><em>Pathfinding algorithms are a class of algorithms that find the shortest path from one node to another on a given graph.</em></p>
						  </div>
						</div>
						<br>
		        		<div class="card bg-light">
						  <div class="card-body">
						    <h5 class="card-title">What is a pathfinding visualizer?</h5>
						    <p class="card-text">
						    <em>A pathfinding visualizer is a visual tool that shows how different pathfinding algorithms work. 
						    <p>The program's objective is to go from the start node to the target node using a pathfinding algorithm. The program can only move horizontally or vertically, with each movement having a cost of one.</p>

						    <p>Once the target node is reached, the shortest path will be illuminated in yellow.
						    </p>
						    </em></p>
						  </div>
						</div>
						<br>
						<div class="card border-primary mb-3">
						  <div class="card-body">
						    <h5 class="card-title">Step 1: Select Maze</h5>
						    <p class="card-text">Click the 'Mazes' tab and select one of the mazes from the dropdown menu.</p>
						  </div>
						  <img class="card-img-bottom" src="media/select-maze.gif" alt="selecting a maze" style="height: 18em">
						</div>
						<br>
						<div class="card border-primary mb-3">
						  <div class="card-body">
						    <h5 class="card-title">Alternatively: Draw Walls</h5>
						    <p class="card-text">Hold the mouse down and drag it over the grid to draw walls.</p>
						  </div>
						  <img class="card-img-bottom" src="media/draw-wall.gif" alt="drawing a wall" style="height: 18em">
						</div>
						<br>
						<div class="card border-primary mb-3">
						  <div class="card-body">
						    <h5 class="card-title">Step 2: Run Dijkstra or A*</h5>
						    <p class="card-text">Run one of the algorithms mentioned above to find the shortest path between the start and target node.</p>
						  </div>
						</div>
						<br>
						<div class="card border-success mb-3">
						  <div class="card-body">
						    <h5 class="card-title">Optional: Move Start/Target Node</h5>
						    <p class="card-text">Hold the mouse down and drag the start/target node to a new location.</p>
						  </div>
						  <img class="card-img-bottom" src="media/move-nodes.gif" alt="moving start/target node" style="height: 18em">
						</div>
		        	</div>
		        </div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		      </div>
		    </div>
		  </div>
		</div>

		<!-- Button Trigger for Info Modal -->
		<button type="button" class="btn btn-outline-info btn-circle btn-lg" data-toggle="modal" data-target="#infoModal" id="infoModalBtn">Info</button>

		<!-- Info Modal -->
		<div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		      	<div class="container-fluid">
		        	<h5 class="modal-title">Algorithms</h5>
		        </div>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		      	<div class="container-fluid">
		        <div id="accordion">
				  <div class="card">
				    <div class="card-header" id="headingOne">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
				          Dijkstra
				        </button>
				      </h5>
				    </div>
				    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
				      <div class="card-body">
				        <p>
				        	<b>How It Works: </b> In Dijkstra's algorithm, all of the nodes in the graph (except the start node) are initialized with a distance equal to infinity. These distances represent the cost to get from the start node to the other nodes, with the starting node having a distance of zero. At the beginning of each iteration, the node with the smallest distance that hasn't been explored yet is visited. These nodes are stored in a min-heap data structure. When a node is visited, all of the neighbors' distances are updated, and if any of the neighbors' distances are updated, then the algorithm pushes the node onto the min-heap. This continues until the target node has been reached.
				        </p>
				        <p>
				        	<b>Efficiency:</b> Dijkstraâ€™s algorithm works well as a pathfinding algorithm for a whole set of nodes but, when using it to search for the shortest path to one specific target, it can be inefficient.
				        </p>
				        <p class="fun-fact">
				        	<i><b>Fun Fact: </b> Edsger Dijkstra invented this algorithm in twenty minutes.</i>
				        </p>
				      </div>
				    </div>
				  </div>

				  <div class="card">
				    <div class="card-header" id="headingTwo">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
				          A*
				        </button>
				      </h5>
				    </div>
				    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
				      <div class="card-body">
				        <p>
				        	<b>How It Works: </b> A* uses the same min-heap data structure that is implemented in Dijkstra's, but it expands upon Dijkstra's criteria for selecting the next node to explore. A* ranks nodes differently: it has a heuristic function that estimates the distance from a given node to the target. This heuristic function makes the algorithm 'smart' since it is able to expand in a direction of interest. This implementaion of A* uses Euclidean distance for the target node distance calculation.
				        </p>
				        <p>
				        	<b>Efficiency:</b> By using a heuristic function to provide an estimate of the cost of the path between each node and the target node, it can make better choices about the next path to take and will find the shortest path faster.
				        </p>
				        <p class="fun-fact">
				        	<i><b>Fun Fact: </b> A* was first created for the 'Shakey Project', which had the aim of building a mobile robot that could plan its own actions. It was later published in 1968 by Stanford Research Institute scientists.</i>
				        </p>
				      </div>
				    </div>
				  </div>
				</div>
		      </div>
		  	  </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		      </div>
		    </div>
		  </div>
		</div>
		</div>
	</div>

	<div id="result">
		<i id="resultIcon" class="fas fa-exclamation"></i>
		<div id="message" class="d-flex justify-content-center" style="text-align: center;"> 
	 		Select a maze or draw walls and run an algorithm.
	 	</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
	<script type="text/javascript" src="script.js"></script>
</body>
</html>